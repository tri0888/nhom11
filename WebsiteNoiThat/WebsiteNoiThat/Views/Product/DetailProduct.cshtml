@model Models.EF.Product

<style>
    /* Style cho zoom ảnh */
    .zoom { transition: transform .2s; }
    .zoom:hover { transform: scale(1.1); }
    
    /* Style cho thông tin sản phẩm */
    .product-info {
        padding: 2rem;
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .product-title {
        font-size: 2rem;
        font-weight: 600;
        color: #333;
        margin-bottom: 1.5rem;
    }
    
    .product-meta {
        font-size: 1.1rem;
        margin-bottom: 1.5rem;
    }
    
    .product-price {
        margin-bottom: 2rem;
    }
    
    .price-old {
        font-size: 1.2rem;
        color: #999;
        text-decoration: line-through;
    }
    
    .price-current {
        font-size: 2rem;
        color: #e91e63;
        font-weight: 600;
    }
    
    /* Style cho tabs */
    .product-tabs {
        margin-top: 3rem;
    }
    
    .nav-tabs {
        border: none;
        gap: 1rem;
        margin-bottom: 2rem;
    }
    
    .nav-tabs .nav-link {
        border: none;
        padding: 1rem 2rem;
        font-size: 1.1rem;
        font-weight: 500;
        color: #666;
        border-radius: 8px;
        background: #f8f9fa;
    }
    
    .nav-tabs .nav-link.active {
        background: #2196F3;
        color: #fff;
    }
    
    .tab-content {
        background: #fff;
        padding: 2rem;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    /* Style cho nút đặt hàng */
    .btn-order {
        padding: 1rem 2rem;
        font-size: 1.2rem;
        background: #2196F3;
        color: #fff;
        border: none;
        border-radius: 8px;
        transition: all 0.3s;
    }
    
    .btn-order:hover {
        background: #1976D2;
        transform: translateY(-2px);
    }
</style>

<div class="container">
    <!-- Phần thông tin sản phẩm -->
    <div class="row g-4">
        <div class="col-md-6">
            <div class="position-relative overflow-hidden">
                <img class="zoom img-fluid rounded w-100" 
                     src="@Url.Content("~/image/" + Model.Photo)" 
                     alt="@Model.Name" 
                     style="height: 400px; object-fit: contain;" />
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="product-info">
                <h1 class="product-title">@Model.Name</h1>
                
                <div class="product-meta">
                    <p><i class="fas fa-barcode me-2"></i>Mã SP: @Model.ProductId</p>
                    <p class="@(Model.Quantity > 0 ? "text-success" : "text-danger")">
                        <i class="fas fa-box me-2"></i>
                        @(Model.Quantity > 0 ? $"Còn {Model.Quantity} sản phẩm" : "Hết hàng")
                    </p>
                </div>
                
                <div class="product-price">
                    @if (Model.Discount > 0)
                    {
                        <div class="price-old mb-2">@string.Format("{0:#,###.##}", Model.Price)₫</div>
                        <div class="price-current">
                            @string.Format("{0:#,###.##}", (Model.Price - (Model.Price * Model.Discount * 0.01)))₫
                        </div>
                    }
                    else
                    {
                        <div class="price-current">@string.Format("{0:#,###.##}", Model.Price)₫</div>
                    }
                </div>
                
                @if (Model.Quantity > 0)
                {
                    <a href="/them-gio-hang?productid=@Model.ProductId&quantity=1" class="btn btn-order">
                        <i class="fas fa-cart-plus me-2"></i>Đặt mua hàng
                    </a>
                }
            </div>
        </div>
    </div>
</div>


<hr class="my-5">

<div class="container">
    <div class="row">
        <div class="col-12">
            <ul class="nav nav-tabs mb-4" id="productTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" 
                            id="desc-tab" 
                            data-bs-toggle="tab" 
                            data-bs-target="#produc-des" 
                            type="button" 
                            role="tab" 
                            aria-controls="produc-des" 
                            aria-selected="true">
                        Mô tả sản phẩm
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" 
                            id="delivery-tab" 
                            data-bs-toggle="tab" 
                            data-bs-target="#tab-gh" 
                            type="button" 
                            role="tab" 
                            aria-controls="tab-gh" 
                            aria-selected="false">
                        Giao hàng
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" 
                            id="return-tab" 
                            data-bs-toggle="tab" 
                            data-bs-target="#tab-th" 
                            type="button" 
                            role="tab" 
                            aria-controls="tab-th" 
                            aria-selected="false">
                        Trả hàng
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" 
                            id="warranty-tab" 
                            data-bs-toggle="tab" 
                            data-bs-target="#tab-bh" 
                            type="button" 
                            role="tab" 
                            aria-controls="tab-bh" 
                            aria-selected="false">
                        Bảo hành
                    </button>
                </li>
            </ul>

            <div class="tab-content" id="productTabContent">
                <div class="tab-pane fade show active" 
                     id="produc-des" 
                     role="tabpanel" 
                     aria-labelledby="desc-tab">
                    <h2>@Model.Description</h2>
                </div>
                
                <div class="tab-pane fade" 
                     id="tab-gh" 
                     role="tabpanel" 
                     aria-labelledby="delivery-tab">
                    <div align="justify">
                        <p>
                            <font><strong>I. Vận chuyển/ shipping</strong></font>
                        </p>
                        <p>
                            <font ><strong>A. Gói tiết kiệm:</strong> </font><br>
                            <br>
                            - Địa điểm: nơi xe tải 2 tấn (hẻm rộng &gt; 5m) có thể vào được.
                        </p>
                        <p>
                            - Đưa hàng nặng, cồng kềnh lên lầu cao ( hoặc chung cư bằng thang bộ): Quý Khách xin vui lòng sử dụng gói giao theo yêu cầu ở dưới đây<br>
                            - Thời gian giao hàng: trong vòng 5 ngày đối với nội thành ( 12 ngày đối với ngoại tỉnh) kể từ ngày xác nhận đơn hàng. Bộ phận giao hàng sẽ thông báo giờ giao hàng trước 1 ngày. <br>
                            <br>
                            <strong><font >B. Gói dịch vụ: </font></strong><br>
                            - Địa điểm giao hàng: đường cấm xe tải, vào hẻm nhỏ, hoặc khiêng vác lên tầng lầu cao cần ít nhất 2 người.
                        </p>
                        <p>
                            - Thời gian giao hàng: giao ngay trong ngày theo giờ yêu cầu nếu hàng có sẵn tại kho trung chuyển.
                        </p>
                        <p>
                            &nbsp;
                        </p>
                        <p>
                            <font ><strong>2. Lắp ráp/ installation</strong></font>
                        </p>
                        <p>
                            - Giá vận chuyển trên đây đã gồm kèm dịch vụ lắp ráp miễn phí đối với các thành phố có kho trung chuyển.
                        </p>

                        <p>
                            - QUý khách cần các dịch vụ khác như khoan bắt lên tường, tháo bỏ đồ cũ, cắt thêm kính... Quý khách vui lòng liên hệ trước với chúng tôi để biết chi phí cụ thể.
                        </p>
                        <p>
                            <font>* Thông tin hữu ích: </font>Tất cả các sản phẩm đồ gỗ tại Studionoithat.com được thiết kế theo tiêu chuẩn quốc tế. Các liên kết, lỗ ốc vít, số lượng ốc cũng được thiết kế và tính toán chính xác để mọi người đều có thể tự mình lắp ráp một cách dễ dàng.
                        </p>

                    </div>
                </div>
                
                <div class="tab-pane fade" 
                     id="tab-th" 
                     role="tabpanel" 
                     aria-labelledby="return-tab">
                    <p align="justify">
                        Đổi trả khi hàng hóa không đúng chất lượng công bố
                    </p>
                    <p align="justify">
                        Để đảm bảo quyền lợi của khách hàng và trách nhiệm của bên vận chuyển, khách hàng cần kiểm tra hàng hóa kỹ khi nhận hàng. Ngay khi nhận hàng, Quý khách có thể yêu cầu đổi hàng nếu hàng không đảm bảo chất lượng.
                    </p>
                    <p align="justify">
                        Đổi trả khi không phù hợp với căn nhà
                    </p>
                    <p align="justify">
                        Ngay khi giao hàng, Quý khách vẫn có thể trả hàng nếu sản phẩm không phù hợp với nội thất chung, Quý Khách sẽ phải thanh toán chi phí vận chuyển:
                    </p>
                    <p align="justify">
                        + Chi phí vận chuyển. Trong trường hợp Quý khách đổi ý sau&nbsp; khi xe giao hàng đã đi thì Quý khách sẽ phải trả chi phí vận chuyển 2 chiều ( chiều đi và chiều về) để công ty điều xe khác đến lấy lại hàng. Lưu ý, khi trả lại hàng, bao bì và linh kiện kèm theo phải đầy đủ. Chi phí bao bì trên thị trường hiện nay rất đắt ( thường 1 thùng carton lớn khoảng hơn 100.000 Đ) do vậy, cần bảo quản kỹ thùng khi quyết định trả hàng.
                    </p>
                    <p align="justify">
                        + Quý khách sẽ không được trả lại tiền hàng sau khi đã hoàn tất thanh toán.
                    </p>

                    <p align="justify">
                        <font style="font-weight: bold; color: rgb(255, 0, 255);">Trường hợp không được trả hàng</font>
                    </p>
                    <p align="justify">
                        Trong bất kể trường nào sau khi hoàn tất việc giao hàng và thanh toán tiền mua hàng, chúng tôi không chấp thuận việc đổi hay trả hàng do đã hoàn tất việc thanh toán cho nhà máy.
                    </p>
                    <p align="justify">
                        Trường hợp sản phẩm mất bao bì, không còn nguyên vẹn hoặc hư hỏng do lỗi khách hàng Studionoithat.com có quyền từ chối việc trả hàng như trên.
                    </p>
                </div>
                
                <div class="tab-pane fade" 
                     id="tab-bh" 
                     role="tabpanel" 
                     aria-labelledby="warranty-tab">
                    <p>
                        <strong>Thời hạn bảo hành theo quy định của nhà máy</strong>
                    </p>
                    <p>
                        Mọi sản phẩm của chúng tôi được bảo hành trong vòng 6 tháng kể từ ngày ghi trên phiếu giao hàng.
                    </p>
                    <p>
                        <strong>Các lỗi được bảo hành trong 6 tháng</strong>
                    </p>
                    <p>
                        a. Gãy vỡ do thiết kế hoặc có lỗi trong quá trình sản xuất. Không bảo hành nếu sử dụng sản phẩm sai mục đích.
                    </p>
                    <p>
                        b. Sơn bị bong tróc do không dính vào gỗ.
                    </p>
                    <p>
                        c. Sản phẩm bị mối mọt ăn từ phía trong gỗ ra.
                    </p>
                    <p>
                        <strong>Phương thức bảo hành</strong>
                    </p>
                    <p>
                        Tùy theo mức độ hư hỏng chúng tôi sẽ tiến hành theo thứ tự các ưu tiên như sau:
                    </p>
                    <p>
                        1. Sơn dặm, sửa, gia cố sản phẩm: thực hiện trong vòng 1 tuần
                    </p>
                    <p>
                        2. Đổi sản phẩm tương tự: thực hiện trong vòng 2 tuần nếu sản phẩm đang có sẵn hàng trên web.
                    </p>
                    <p>
                        3. Hoàn lại tiền sản phẩm không gồm phí vận chuyển: thực hiện trong vòng 1 tháng kể từ ngày thông báo không còn hàng để thay thế.
                    </p>
                    <p>
                        <strong>Thủ tục bảo hành</strong>
                    </p>
                    <p>
                        1. Liên hệ với bộ phận bán hàng để cung cấp các thông tin: thông tin liên hệ, lỗi bị hư hỏng, mã số đơn hàng.
                    </p>
                    <p>
                        2. Sản phẩm chỉ được bảo hành tại nhà máy. Chúng tôi sẽ thu xếp hẹn ngày nhận sản phẩm để bảo hành trong vòng 7 ngày. Chúng tôi không chịu chi phí vận chuyển nhận và đổi sản phẩm bảo hành. Chi phí vận chuyển tính theo chính sách tính phí vận chuyển giao hàng tiêu chuẩn.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    <script>
        // Đảm bảo Bootstrap JS đã được load
        document.addEventListener('DOMContentLoaded', function() {
            // Khởi tạo tất cả các tabs
            var triggerTabList = [].slice.call(document.querySelectorAll('#productTabs button'))
            triggerTabList.forEach(function(triggerEl) {
                var tabTrigger = new bootstrap.Tab(triggerEl)
                triggerEl.addEventListener('click', function(event) {
                    event.preventDefault()
                    tabTrigger.show()
                })
            })
        });
    </script>
}

